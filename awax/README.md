# AWAX web-extension for chromium browser 

WebExtension написан на vainilla JavaScript, поэтому компиляция и преобразование кода не требуется. При сабмите на апрув, также, код отправляется как есть. 

## Принцип работы

Основная часть кода основана на расширении [µBlock](https://github.com/uBlock-LLC/uBlock), который использует два подхода к блокировке. Первый, это блокировка запросов, которые соответствуют маске из “черного списка”, например, рекламные ролики с youtube. Второй, это удаление узлов в DOM-дереве, которые содержат рекламный контент, например, блоки adwords.

### Обновления фильтров AWAX

Первое чтение ресурсов с правилами происходит в момент первого запуска из эндпоинта `/api/web/checkForUpdate`, последующие проверяются 1 раз в сутки по полю `updated_at`. Затем, список ресурсов с правилами добавляется в  общий availableLists и обрабатывается по общим алгоритмам.

### Регистрация расширения пользователем

После установки без регистрации расширение работает 3 суток. Для продолжения работы пользователь должен ввести в popup-окне код регистрации. Проверка ключа производится каждую минуту, поэтому, даже если пользователь попробует включить расширение заново, то оно вскоре все равно отключится.
