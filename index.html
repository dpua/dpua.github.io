<!--
Bruno X
@cat.dp.ua
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Cat Cafe Днепр, забронировать столик</title>
<script src="jquery.min.js"></script>
<script src="bootstrap.min.js"></script>
<script src="moment-with-locales.js"></script>
<script src="jquery.mask.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<style>
body{
	background: url(https://lh3.googleusercontent.com/l6nSkIdgrujuYTvd8ACjWJDMMgNQ06BKQhx_Lu32AH2-oIqHKcTZvhQF7gmeygjxTlwY53Dudw=w1080-h608-p-no-v0)100% 100% no-repeat; 
    background-size: cover; 
	color: white; 
	font-family: Roboto,RobotoDraft,Helvetica,Arial,sans-serif;
}
a{color: white; }
a:hover{color: white; }
.con{
    width: 320px;
    padding: 20px;
    background: #303d44ad;
	border-radius: 10px;
	box-shadow: 0px 1px 5px -1px black, 0px 10px 10px 0px grey;
}
.dashed_{border-bottom: dashed 3px white; padding: 5px 0px;}
.center{    text-align: center;}
input {
    border: 1px solid #c4c4c4;
    border-radius: 4px;
    margin-bottom: 14px;
    color: #8f8f8f;
    font-family: sans-serif, "OpenSans", Arial;
    font-size: 14px;
    width: 298px;
    padding: 9px 35px 9px 38px;
}
.input-group {
    margin: 10px auto;
}
.input-group:before, .input-group:after {
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
	z-index: 100;
	transition: 2s;
}
.input-group:before {
    content: attr(data-title);    
	box-shadow: 0 2px 12px -2px black;
    position: absolute; bottom: 90%; left: 50%;
    margin-bottom: 5px;
    margin-left: -80px;
    padding: 7px;
    width: 160px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    background: #eee;
    color: #000;    
    text-align: center;
    font-size: 14px;
    line-height: 1.2;
}
.input-group:after {
    content:" ";
    position: absolute; bottom: 90%; left: 50%;
    margin-left: -5px;
    width: 0;
    border-top: 5px solid #eee;
    border-right: 5px solid transparent;
    border-left: 5px solid transparent;    
    font-size: 0;
    line-height: 0;
}
.input-group.hover:before, .input-group.hover:after {
    visibility: visible;
    opacity: 1;
	transition: 0.5s;
}
label {
    position: relative;
    cursor: text;
    padding-left: 25px;
    margin-right: 15px;
    font-size: 15px;
    font-family: sans-serif, "geinsp", Arial;
    color: #7b7b7b;
}
label:before {
    content: "";
    border: none;
    top: -2px;
    margin-right: 10px;
    position: absolute;
    left: 0;
    bottom: 1px;
    left: -180;
}
.labelphone:before {
    background: url(https://widget.gettable.ru/assets/newwidget/icons-sba93ce21a1-e17c4704addabdcba153de621ce4492907cce052c1bce73077e424083c02803b.png) 0 -2749px no-repeat;
    width: 17px;
    height: 22px;
}
.labelname:before {
    background: url(https://widget.gettable.ru/assets/newwidget/icons-sba93ce21a1-e17c4704addabdcba153de621ce4492907cce052c1bce73077e424083c02803b.png) 0 -2290px no-repeat;
    width: 16px;
    height: 22px;
}
select {
  -moz-appearance: none;
  -webkit-appearance: none;
  appearance: none;
}
select::-ms-expand {  /* для IE */ 
    display: none;
}
option {
  padding: 6px 28px 6px 0;
}
option::alert {
  content: " " url(http://www.blogger.com/img/icon_28_followers.png);
  vertical-align: middle;
}
textarea { color: #8f8f8f; resize: vertical; min-height: 60px; border: none;}
</style>
</head>
<body onresize="con()">
<div class=con>
<h1><a href=http://cat.dp.ua>Cat Cafe</a></h1>
<h4 class=title>Закажите лучший столик</h4>
      <form id="form-contact" method="POST" class="form-element" autocomplete="off">
<fieldset>
    <div class="input-group" data-title="Укажите Ваше имя">
      <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      <input id="name" type="text" class="form-control" name="name" placeholder="Как Вас зовут?" required="required" minlength="2" autocomplete="on" >
    </div>
    <div class="input-group" data-title="Введите номер Вашего телефона для обратной связи">
      <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
      <input id="phone-number" type="Phone" class="form-control" name="phone" placeholder="+38 (___) ___-__-__" required="required" minlength="19" autocomplete="on" >
    </div>
    <div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
      <!--input id="аааааdatepicker" type="Phone" class="form-control" name="Phone" placeholder="12/12/2012" required="required"-->
<select name="datepicker" id="datepicker" data-remote="true" name="data"  class="form-control" dir="rtl" onChange="time__(this.selectedIndex)">
</select>
    </div>
<div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
<select name="timepicker" id="timepicker" name="time"  class="form-control">
</select>
    </div>
	<div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-cutlery"></i></span>
<select name="cutlerypicker" id="cutlerypicker" class="form-control">
<option value="1-2 чел.">Столик на двоих</option>
<option value="3-4 чел.">Столик на 3-4 чел.</option>
<option value="5-8 чел.">Компания 5-8 чел.</option>
<option value="больше 9 чел.">Больше 9 чел.</option>
</select>
    </div>
	<div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
<textarea cols="30" id="guest__wish" name="text" placeholder="Ваши пожелания к брони" rows="3" class="form-control" maxlength="240"  autocomplete="on"></textarea>
    </div>
	</fieldset>
    <br>
<script>
var now = moment().locale('ru');
moment.locale('ru', {
    calendar : {
        lastDay : '[Вчера:] ddd, Do MMMM YYYY',
        sameDay : '[Сегодня:] ddd, Do MMMM YYYY',
        nextDay : '[Завтра:] ddd, Do MMMM YYYY',
        lastWeek : '[Прошлые:] ddd, Do MMMM YYYY',
        nextWeek : '[]ddd, Do MMMM YYYY',
        sameElse : '[&#8194;&#8194;&#8194;&#8194;&#8194;&#8194;&#8194;&#8194;&#8194;]ddd, Do MMMM YYYY'
    }
});
for (var i = 0; i < 7; i++) {
  var checkday=moment().locale('ru');
  d__=checkday.add(i, 'days').calendar();
  s__="";
  if(i==1)s__="selected";
  $('<option ' +s__+ ' value="' +d__+ '">'+d__+ '</option>').appendTo('#datepicker');
};
function timepicker(a, b){
$("#timepicker").empty();
for (var i = 0; i < a; i++) {
	d__=b+i;
  $('<option id="' +d__+ '" value="' +d__+':00 ">'+d__+ ':00 </option>').appendTo('#timepicker');
  $('<option id="' +d__+ '" value="' +d__+ ':30">'+d__+ ':30</option>').appendTo('#timepicker');
};
if(a<=0)$('<option distabled id="-1" value="На сегодня бронь закрыта">На сегодня бронь закрыта</option>').appendTo('#timepicker');
};
function time__(a){
	if(a==0){
var time=moment().format('HH')//.format('LT').replace(/\:.*/, '');
if(time<7){
	timepicker(12, 9);
}else{
	t__=time-7;
	timepicker(12-t__, 9+t__);
};
}else{timepicker(12, 9);};	
};
time__(1);
$(document).ready(function(){//alert(1);
  $('#phone-number').mask('+38 (000) 000-00-00');
});
</script>
          <input type="submit" class="btn btn-default" style="
    width: 100%;
" value="Забронировать">
      </form>
<h3 class="dashed_ center form-message"></h3>

<a href="tel:+3809353835669"><h3 class="center"><i class="glyphicon glyphicon-earphone"></i>+380953835669</h3></a>
    </div>
<script>
            $(document).ready(function () {
//var B_={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=B_._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=B_._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}; var s_o = '1qWS9zZW5kTWVzc2FnZT9jaGF0X2lkPS0zNjI2MDk1NzQmcGFyc2VfbW9kZT1odG1sJnRleHQ9aHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdDg3NjUzMDQ1NDpBQUhwdlhyNFg1aEhUZXEyTDJnMHFyUndSejRoeDRfUS';var eS = B_.encode(s_o);var decodedString = B_.decode(eS);   
		   $(".form-element").submit(function () {
if ($('#name').val().length > 1) 
{
if ($('#phone-number').val().length == 19) 
{
send();
}else{
$('#phone-number').focus();
$('#phone-number').parent(".input-group").addClass('hover');
setTimeout(function(){ $('#phone-number').parent(".input-group").removeClass('hover');}, 5000);
};
}else{
$('#name').focus();
$('#name').parent(".input-group").addClass('hover');
setTimeout(function(){ $('#name').parent(".input-group").removeClass('hover');}, 5000);
};
function send(){
var formNm = $('#form-contact');// + formID);
        var message = $(".form-message");
        //var formTitle = $(formNm).find(".form-element");
		var mess='Имя: '+$('#name').val()+'\n Тел:'+$('#phone-number').val()+'\n Дата: '+$('#datepicker').val()+'\n Время: '+$('#timepicker').val()+'\n Чел: '+$('#cutlerypicker').val()+'\n Комментарий: '+$('#guest__wish').val()+' ';
$.ajax({
            type: "POST",
            url: 'https://api.telegram.org/bot876530454:AAHpvXr4X5hHTeq2L2g0qrRwRz4hx4_Q-jY/sendMessage?chat_id=-362609574&parse_mode=html&text='+mess,
            data: formNm.serialize(),
            success: function (data) {
              // Вывод сообщения об успешной отправке
			  $(".title").html("Заявка отправлена<br><br>С Вами свяжутся по указанному номеру: "+$("#phone-number").val());mess
              formNm.css("display","none");con();
            },
            error: function (jqXHR, text, error) {
                // Вывод сообщения об ошибке отправки
                message.html("Что-то пошло не так:(<br>Попробуйте чуть позже");
            }
        });
};
con();
        return false;
	});
});
function con(){
var a=$(".con");
ah=a.height()+40;
bh=$(document).height();
h=(bh-ah)/2;
a.css("margin", h+"px auto");
};
con();
</script>
</body>
